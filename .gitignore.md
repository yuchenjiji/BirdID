# Git å®‰å…¨æ£€æŸ¥æ¸…å•

## âœ… å·²å¿½ç•¥çš„æ•æ„Ÿæ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶/ç›®å½•å·²æ·»åŠ åˆ° `.gitignore`ï¼Œ**ä¸ä¼šè¢«æäº¤åˆ° Git**ï¼š

### ğŸ” å¯†é’¥å’Œè¯ä¹¦
- âœ… `*.keystore` - Android ç­¾åå¯†é’¥
- âœ… `*.jks` - Java å¯†é’¥åº“
- âœ… `key.properties` - å¯†é’¥é…ç½®æ–‡ä»¶
- âœ… `android/key.properties` - Android å¯†é’¥é…ç½®

### ğŸ”§ æœ¬åœ°é…ç½®
- âœ… `local.properties` - æœ¬åœ° SDK è·¯å¾„
- âœ… `android/local.properties` - Android æœ¬åœ°é…ç½®
- âœ… `.env` - ç¯å¢ƒå˜é‡æ–‡ä»¶
- âœ… `azure-config.sh` - Azure é…ç½®ï¼ˆå¦‚æœä½¿ç”¨ï¼‰

### ğŸ“¦ æ„å»ºäº§ç‰©
- âœ… `build/` - æ‰€æœ‰æ„å»ºè¾“å‡º
- âœ… `*.apk` - APK æ–‡ä»¶
- âœ… `*.aab` - Android App Bundle
- âœ… `android/app/debug/` - Debug æ„å»º
- âœ… `android/app/release/` - Release æ„å»º

### ğŸ”„ Azure è„šæœ¬
- âœ… `android/upload_to_azure.sh` - ä¸Šä¼ è„šæœ¬ï¼ˆåŒ…å«è´¦æˆ·ä¿¡æ¯ï¼‰
- âœ… `**/upload_to_azure.sh` - æ‰€æœ‰ä¸Šä¼ è„šæœ¬

### ğŸ› ï¸ IDE å’Œå·¥å…·
- âœ… `.gradle/` - Gradle ç¼“å­˜
- âœ… `.dart_tool/` - Dart å·¥å…·ç¼“å­˜
- âœ… `.idea/` - IntelliJ IDEA é…ç½®
- âœ… `*.iml` - IntelliJ æ¨¡å—æ–‡ä»¶

## âœ… å¯ä»¥å®‰å…¨æäº¤çš„æ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶**å¯ä»¥ä¸”åº”è¯¥**æäº¤åˆ° Gitï¼š

### ğŸ“± åº”ç”¨ä»£ç 
- âœ… `lib/` - Dart æºä»£ç 
- âœ… `assets/` - åº”ç”¨èµ„æºæ–‡ä»¶
- âœ… `web/` - Web é™æ€èµ„æº

### ğŸ”§ é¡¹ç›®é…ç½®
- âœ… `pubspec.yaml` - Flutter ä¾èµ–é…ç½®
- âœ… `pubspec.lock` - ä¾èµ–ç‰ˆæœ¬é”å®š
- âœ… `android/app/build.gradle.kts` - Gradle æ„å»ºé…ç½®
- âœ… `android/build.gradle.kts` - é¡¹ç›®çº§ Gradle é…ç½®

### ğŸ“œ è„šæœ¬æ–‡ä»¶
- âœ… `build_and_upload.sh` - æ„å»ºå’Œä¸Šä¼ è„šæœ¬ï¼ˆå·²å‚æ•°åŒ–ï¼Œæ— ç¡¬ç¼–ç å¯†é’¥ï¼‰
- âœ… `update_apk_url.sh` - æ›´æ–°ä¸‹è½½é“¾æ¥è„šæœ¬
- âœ… `build_all.sh` - ä¸€é”®æ„å»ºè„šæœ¬

### ğŸ“– æ–‡æ¡£
- âœ… `README.md` - é¡¹ç›®è¯´æ˜
- âœ… `APK_DOWNLOAD_GUIDE.md` - ä¸‹è½½åŠŸèƒ½æŒ‡å—
- âœ… `APK_DOWNLOAD_IMPLEMENTATION.md` - å®ç°è¯´æ˜
- âœ… `QUICK_START.md` - å¿«é€Ÿå¼€å§‹æŒ‡å—

## âš ï¸ é‡è¦æé†’

### æ£€æŸ¥æ•æ„Ÿä¿¡æ¯

åœ¨æäº¤å‰ï¼Œç¡®ä¿è¿™äº›æ–‡ä»¶ä¸­**æ²¡æœ‰ç¡¬ç¼–ç **æ•æ„Ÿä¿¡æ¯ï¼š

1. **`build_and_upload.sh`** - Azure è´¦æˆ·åï¼ˆlaowï¼‰ä¸æ˜¯å¯†é’¥ï¼Œå¯ä»¥æäº¤
2. **`lib/main.dart`** - ä¸‹è½½ URL æ˜¯å…¬å¼€çš„ï¼Œå¯ä»¥æäº¤
3. **`update_apk_url.sh`** - åªåŒ…å«è´¦æˆ·åï¼Œæ— å¯†é’¥

### å·²ä» Git ä¸­ç§»é™¤çš„æ–‡ä»¶

å¦‚æœä¹‹å‰ä¸å°å¿ƒæäº¤äº†æ•æ„Ÿæ–‡ä»¶ï¼Œéœ€è¦ä»å†å²è®°å½•ä¸­åˆ é™¤ï¼š

```bash
# åˆ é™¤æ–‡ä»¶å¹¶ä»å†å²è®°å½•ä¸­ç§»é™¤
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch android/key.properties" \
  --prune-empty --tag-name-filter cat -- --all

# å¼ºåˆ¶æ¨é€ï¼ˆè°¨æ…æ“ä½œï¼ï¼‰
git push origin --force --all
```

## ğŸ” éªŒè¯å‘½ä»¤

### æ£€æŸ¥æ–‡ä»¶æ˜¯å¦è¢«å¿½ç•¥

```bash
# æ£€æŸ¥å•ä¸ªæ–‡ä»¶
git check-ignore -v android/key.properties

# æ£€æŸ¥å¤šä¸ªæ–‡ä»¶
git check-ignore -v \
  android/key.properties \
  android/upload_to_azure.sh \
  build/app/outputs/flutter-apk/app-release.apk
```

### æŸ¥çœ‹å°†è¦æäº¤çš„æ–‡ä»¶

```bash
# æŸ¥çœ‹æš‚å­˜çš„æ–‡ä»¶
git status

# æŸ¥çœ‹å³å°†æäº¤çš„æ›´æ”¹
git diff --cached

# æŸ¥çœ‹æ‰€æœ‰è·Ÿè¸ªçš„æ–‡ä»¶
git ls-files
```

## ğŸ“‹ æäº¤å‰æ£€æŸ¥æ¸…å•

åœ¨æ¯æ¬¡ `git commit` å‰ï¼š

- [ ] è¿è¡Œ `git status` æ£€æŸ¥å°†è¦æäº¤çš„æ–‡ä»¶
- [ ] ç¡®è®¤æ²¡æœ‰ `.keystore`ã€`.jks`ã€`key.properties` æ–‡ä»¶
- [ ] ç¡®è®¤æ²¡æœ‰ `local.properties` æ–‡ä»¶
- [ ] ç¡®è®¤æ²¡æœ‰ `build/` ç›®å½•ä¸‹çš„æ–‡ä»¶
- [ ] ç¡®è®¤æ²¡æœ‰ `.env` æ–‡ä»¶
- [ ] æ£€æŸ¥ä»£ç ä¸­æ²¡æœ‰ç¡¬ç¼–ç çš„å¯†é’¥æˆ–å¯†ç 
- [ ] æ£€æŸ¥ Azure è´¦æˆ·å¯†é’¥æ²¡æœ‰ç¡¬ç¼–ç åœ¨è„šæœ¬ä¸­

## å½“å‰çŠ¶æ€

```bash
# è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰çŠ¶æ€
git status
```

### æ•æ„Ÿæ–‡ä»¶æ£€æŸ¥

```bash
# è¿™äº›æ–‡ä»¶åº”è¯¥æ˜¾ç¤º "å·²å¿½ç•¥"
âœ… android/key.properties - å·²å¿½ç•¥
âœ… android/upload_to_azure.sh - å·²å¿½ç•¥
âœ… build/app/outputs/flutter-apk/app-release.apk - å·²å¿½ç•¥
```

## ğŸ”’ æœ€ä½³å®è·µ

1. **æ°¸è¿œä¸è¦æäº¤**ï¼š
   - ç§é’¥å’Œè¯ä¹¦
   - å¯†ç å’Œ API å¯†é’¥
   - æœ¬åœ°é…ç½®æ–‡ä»¶
   - æ„å»ºäº§ç‰©

2. **ä½¿ç”¨ç¯å¢ƒå˜é‡**ï¼š
   - æ•æ„Ÿé…ç½®åº”è¯¥ä»ç¯å¢ƒå˜é‡è¯»å–
   - æä¾› `.env.example` æ¨¡æ¿æ–‡ä»¶

3. **å®šæœŸæ£€æŸ¥**ï¼š
   - ä½¿ç”¨ `git log --all --full-history -- path/to/file` æ£€æŸ¥æ–‡ä»¶å†å²
   - ä½¿ç”¨å·¥å…·å¦‚ `git-secrets` æ‰«ææ•æ„Ÿä¿¡æ¯

4. **å›¢é˜Ÿåä½œ**ï¼š
   - ç¡®ä¿æ‰€æœ‰å›¢é˜Ÿæˆå‘˜äº†è§£ `.gitignore` è§„åˆ™
   - åœ¨ README ä¸­è¯´æ˜æ•æ„Ÿæ–‡ä»¶çš„é…ç½®æ–¹æ³•

---

**æœ€åæ›´æ–°**: 2026-02-11
**çŠ¶æ€**: âœ… æ‰€æœ‰æ•æ„Ÿæ–‡ä»¶å·²æ­£ç¡®é…ç½®å¿½ç•¥è§„åˆ™
